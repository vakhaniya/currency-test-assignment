## Как запустить

Требования:
- Go актуальной версии
- Docker
- Опционально postgres (можно запустить через [docker-compose.yml](docker-compose))

Предварительно стоит подготовить переменные окружения в соответствии с [конфигом](./internal//common//config/config.go). Можно просто скопировать переменные для теста в .env: `cp .env.test .env`

Собрать проект можно командой `make build` (предварительно подготовить все через `make setup`)

### Запуск локально без докера
1. Установить зависимости `make setup` (см команды в Makefile)
2. Запустить приложение `make run`

### Запуск через docker compose вместе с базой
1. `docker compose up --build app postgres`

### Запуск через docker, база поднята отдельно на локалхосте
1. `docker build -t app .`
2. `docker run -p 8000:8000 --env-file .env app`, предварительно создав .env (DATABASE_HOST поменять, чтобы приложение из докера достучалось до локалхоста, например, для macos host.docker.internal)

## О проекте
Придерживался облегченной версии DDD:
- cmd/main.go - приложение
- internal/api/* - API сервера (хэндлеры, dto)
- internal/application/* - application layer сервисы
- internal/common/* - общая переиспользуемая функциональность (конфиг, миддлвары, работа с ошибками и тд)
- internal/domains/* - домены
- internal/infrastructure/* - внешние зависимости (бд, api сервиса валют) 

Сваггер доступен на /swagger

## Стэк
Реализовано на net/http + gorm (postgres), используется go-playground/validator, swaggo, cleanenv

Исходил из следующих критериев:
- Не тянуть слишком много зависимостей, только по необходимости
- Не изобретать велосипед слишком сильно
- Поиграться с go

## Что можно было бы улучшить
- Работа воркера. В зависимости от требований в реальных задачах можно много всего сверху доработать: ретраи, гарантии обработки, скорость обновления и тд
- Миграции. Сейчас доверился autoMigrate от gorm, по-хорошему нужно выносить отдельно миграции и работать с ними
- OpenAPI. Сейчас по комментам в коде собирается, легко словить неконсистентность, можно попробовать другие варианты
- Dependency Injection. Проект небольшой и сейчас не так страшно, но на будущее работу с зависимостями надо проработать
- Качество тестов